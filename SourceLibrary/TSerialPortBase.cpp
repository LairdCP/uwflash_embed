/******************************************************************************
**              Copyright (C) 2007 TDK Systems Europe Ltd
**
** Project:
**
** Module:      TSerialPortBase.CPP
**
*******************************************************************************/

/******************************************************************************/
// CONDITIONAL COMPILE DEFINES
/******************************************************************************/

/******************************************************************************/
// Include Files
/******************************************************************************/
#include <stdlib.h>

#include "TSerialPortBase.h"

/******************************************************************************/
// Local Defines
/******************************************************************************/

/******************************************************************************/
// Local Macros
/******************************************************************************/

/******************************************************************************/
// Local Forward Class,Struct & Union Declarations
/******************************************************************************/

/******************************************************************************/
// Local Class,Struct,Union Typedefs
/******************************************************************************/

/******************************************************************************/
// External Variable Declarations
/******************************************************************************/

/******************************************************************************/
// Global/Static Variable Declarations
/******************************************************************************/

/******************************************************************************/
// External Function Declarations
/******************************************************************************/

/******************************************************************************/
// Local Forward Function Declarations
/******************************************************************************/

/******************************************************************************/
/******************************************************************************/
// Local Functions or Private Members
/******************************************************************************/
/******************************************************************************/

//=============================================================================
//=============================================================================

/******************************************************************************/
/******************************************************************************/
// Global Functions or Public Members
/******************************************************************************/
/******************************************************************************/

//------------------------------------------------------------------------------
// Constructor
//------------------------------------------------------------------------------
TSerialPortBase::TSerialPortBase(TSerialOnRxData *pOwner)
{
    mpSerialOnRxData=pOwner;
}

//------------------------------------------------------------------------------
// Destructor
//------------------------------------------------------------------------------
TSerialPortBase::~TSerialPortBase()
{
}

//------------------------------------------------------------------------------
//called when derived class has data
//------------------------------------------------------------------------------
void TSerialPortBase::OnSerialReceive(unsigned int nCount)
{
    /* inform the owner class that data has arrived */ 
    mpSerialOnRxData->OnRxData(nCount);
}


//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
bool TSerialPortBase::GetDsrState(void)
{
    return true;
}

//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
bool TSerialPortBase::GetDcdState(void)
{
    return false;
}

//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
bool TSerialPortBase::GetRiState(void)
{
    return false;
}

//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
void TSerialPortBase::AssertRTS(void)
{
}

//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
void TSerialPortBase::DeassertRTS(void)
{
}

//=============================================================================
// This function will be called to output the null terminated string specified
// to the Laird module
//=============================================================================
void
TSerialPortBase::PutString(
    char *pTxStr
    )
{
    unsigned short nLen = strlen(pTxStr);
    PutBlock(pTxStr,nLen);
}


/******************************************************************************/
/******************************************************************************/
// Global Functions Non Class Members
/******************************************************************************/
/******************************************************************************/

/******************************************************************************/
// END OF FILE
/******************************************************************************/

